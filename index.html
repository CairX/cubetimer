<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Timer</title>
        <link href="style.css" type="text/css" rel="stylesheet" />
        <script src="timer.js"></script>
    </head>
    <body>
        <div id="time">00:00:00</div>
        <!--button id="start">Start</button-->
        <script>
            var i;
            var time = document.getElementById('time');
            var timer = new Timer();
            
            function update() {
                time.innerHTML = TimeFormatter.format(timer.current(), '%%M:%S:%h');
            }

            window.onkeypress = function(event) {
                if (event.charCode === 32) {
                    if (timer.isRunning()) {
                        window.clearInterval(i);
                        timer.stop();
                        time.innerHTML = TimeFormatter.format(timer.time(), '%%M:%S:%h');
                    } else {
                        timer.start();
                        i = window.setInterval(update, 10);
                    }
                }
            };
        </script>
    </body>
</html>